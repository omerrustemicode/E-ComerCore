
@{
    ViewData["Title"] = "index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="category-tab">
    <div class="tab-content">
        <div class="tab-pane fade active in" id="tshirt">
            @foreach (var product in ViewBag.LatestProducts)
            {
                Product productInfo = (Product)product;
                Photo photo = productInfo.Photos.SingleOrDefault(ph => ph.Status && ph.Featured);
                var photoName = photo == null ? "noimage.gif" : photo.Name;
            <div class="col-sm-3 ml-3">
                <div class="product-image-wrapper">
                    <div class="single-products">
                        <div class="productinfo text-center">
                            <img src="~/products/@photoName" width="120" height="140" />
                            <h2>$@(Convert.ToDouble(productInfo.Price))</h2>
                            <td> @(productInfo.Name = productInfo.Name.Length > 20 ? productInfo.Name = productInfo.Name.Substring(0, 20) + "..." : productInfo.Name ) </td><br/>
                            <a asp-controller="cart" asp-action="buy" asp-route-id="@product.Id" class="btn btn-default add-to-cart"><i class="fa fa-shopping-cart"></i>Add to cart</a>
                            <a asp-controller="product" asp-action="details" asp-route-id="@product.Id" class="btn btn-default add-to-cart"><i class="fa fa-shopping-cart"></i>Product Details</a>
                        </div>
                    </div>
                </div>
            </div>
            }
        </div>
    </div>
</div><!--/category-tab-->
